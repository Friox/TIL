# 2025. 05. 08.

## ðŸ€ RESTful API CRUD ëª…ëª… ê·œì¹™
ì£¼ë¡œ URIì— ìžì›ì„ ëª…ì‚¬(ë³µìˆ˜í˜•)ë¡œë§Œ í‘œí˜„í•˜ê³ , í–‰ìœ„ëŠ” HTTP ë©”ì„œë“œë¡œ êµ¬ë¶„í•œë‹¤.

### ìžì›ì€ ëª…ì‚¬, ë³µìˆ˜í˜•ìœ¼ë¡œ í‘œí˜„
`/users`, `/products` ë“±

### ë‹¨ì¼ ìžì› ì ‘ê·¼
* `GET /users/{id}` -> íŠ¹ì • ìžì› ì¡°íšŒ
* `PUT /users/{id}` -> í•´ë‹¹ ìžì› ìˆ˜ì •
* `DELETE /users/{id}` -> í•´ë‹¹ ìžì› ì‚­ì œ

### ì»¬ë ‰ì…˜ ì¡°ìž‘
* `GET /users` -> ìžì› ëª©ë¡ ì¡°íšŒ
* `POST /users` -> ìžì› ìƒì„±

### ê´€ê³„ ìžì› í‘œí˜„
`/posts/{postId}/comments` -> íŠ¹ì • ê²Œì‹œë¬¼ì˜ ëŒ“ê¸€ ì¡°íšŒ ë° ìƒì„±

### ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ í•„í„°ë§, ì •ë ¬, íŽ˜ì´ì§€ë„¤ì´ì…˜
`/users?name=Seunghun&page=2`

### URL ê·œì¹™
* ì†Œë¬¸ìžë§Œ ì‚¬ìš©
* ë‹¨ì–´ êµ¬ë¶„ì€ í•˜ì´í”ˆ(`-`)
* ê²½ë¡œ ëì— ìŠ¬ëž˜ì‹œ(`/`) ìƒëžµ

## ðŸ€ Controllerì—ì„œ ê°ì²´ ë°˜í™˜ ì‹œ ëª…ëª…ê·œì¹™ ì§€ì •
DTO í•„ë“œëŠ” lowerCamelCaseë¡œ ìœ ì§€í•˜ë©´ì„œ, ìš”ì²­ ë° ì‘ë‹µ JSONë§Œ snake_caseë¡œ ì£¼ê³ ë°›ê²Œ í•  ìˆ˜ ìžˆë‹¤.  
```yml
# application.yml

spring:
  jackson:
    property-naming-strategy: SNAKE_CASE
```

## ðŸ€ ê³„ì† í—·ê°ˆë ¤ì„œ ì •ë¦¬í•˜ëŠ” git commit tag
* feat : ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ì‚¬ìš©
* fix : ë²„ê·¸ë¥¼ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©
* docs : ë¬¸ì„œ, ì£¼ì„ ìƒì„± ë° ìˆ˜ì • ì‹œ ì‚¬ìš©
* style : ì½”ë“œ ë™ìž‘ì— ì˜í–¥ ì—†ëŠ” í¬ë§·, ê³µë°± ìˆ˜ì • ì‹œ ì‚¬ìš©
* refactor : ê¸°ëŠ¥ ë³€ê²½ ì—†ì´ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í•  ë•Œ ì‚¬ìš©
* perf : ì„±ëŠ¥ì„ ê°œì„ í•  ë•Œ ì‚¬ìš©
* test : í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€, ìˆ˜ì •í•  ë•Œ ì‚¬ìš©
* chore : ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ë‚˜ íŒ¨í‚¤ì§€ ì„¤ì • ë“± ë¶€ìˆ˜ì ì¸ ë³€ê²½ ì‹œ ì‚¬ìš©

## ðŸ€ Lombok Builder Pattern ì ìš© ì‹œ `toBuilder()` ë©”ì„œë“œ í™œì„±í™”
JPA Entity, DTO í´ëž˜ìŠ¤ ìƒì„± ì‹œ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ Builder íŒ¨í„´ì„ ì ìš©í•˜ê³¤ í•œë‹¤.  
Lombok ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì–´ë…¸í…Œì´ì…˜ í•˜ë‚˜ë¡œ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìžˆëŠ”ë°,  
ì´ë¯¸ ìƒì„±ëœ ê°ì²´ì˜ ê°’ì„ ìˆ˜ì •í•´ì•¼í•  ê²½ìš° ì›ëž˜ê°™ìœ¼ë©´ Builder ê°ì²´ë¥¼ ë‹¤ì‹œ ìƒì„± í›„  
ì¼ì¼ì´ ê°’ì„ í• ë‹¹í•´ì•¼í•œë‹¤.  
ì´ëŸ¬í•œ ë¶ˆíŽ¸í•¨ì„ í•´ì†Œí•˜ê¸° ìœ„í•´ ì´ë¯¸ ìƒì„±ëœ ê°ì²´ì˜ ê°’ì„ ìœ ì§€í•˜ë©´ì„œ Builder ê°ì²´ë¡œ ë³€ê²½í•˜ëŠ” ì˜µì…˜ì´ ì¤€ë¹„ë˜ì–´ ìžˆë‹¤.  

`@Builder` ì–´ë…¸í…Œì´ì…˜ì˜ `toBuilder` ì˜µì…˜ì„ `true`ë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.
```java
@Getter
@Builder(toBuilder = true)
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
@Entity
@Table(name = "books")
public class Book {
    // ...
}
```

ì´ëŸ°ì‹ìœ¼ë¡œ ê¸°ì¡´ ê°ì²´ë¥¼ Builder ê°ì²´ë¡œ ë³€í™˜í•  ìˆ˜ ìžˆë‹¤.
```java
public Book updateBook(String isbn, UpdateBookRequestDto dto) {
    Book book = bookRepository.findByIsbn(isbn)
            .orElseThrow(() -> new ResponseStatusException(HttpStatus.NOT_FOUND));
    Book.BookBuilder builder = book.toBuilder();
    if (dto.getTitle() != null) builder.title(dto.getTitle());
    if (dto.getAuthor() != null) builder.author(dto.getAuthor());
    if (dto.getPublishDate() != null) builder.publishDate(dto.getPublishDate());
    Book updatedBook = builder.build();
    bookRepository.save(updatedBook);
    return updatedBook;
}
```