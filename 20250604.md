# 2025. 06. 04.

## AWS Elastic Beanstalk
간단한 애플리케이션을 제작하고, AWS Elastic Beanstalk을 통해 배포하는 실습을 진행했다.  
AWS Elastic Beanstalk은 개발자가 인프라에 대한 복잡한 고민 없이,  
웹 애플리케이션을 AWS 클라우드에 쉽고 빠르게 배포하고 관리할 수 있도록 지원하는 완전 관리형 서비스이다.

### 주요 특징
* 자동화된 인프라 관리 : 코드 또는 바이너리 파일을 업로드 하면 Beanstalk이 자동으로 EC2 인스턴스, 로드 밸런서, 오토 스케일링, 모니터링 등  
  인프라 리소스를 생성, 설정하고 애플리케이션 실행에 필요한 환경을 자동으로 구성한다.
* 운영체제 및 웹 서버 : Amazon Linux, Windows Server 등 다양한 OS와 Apache, Nginx, IIS 등 웹서버를 선택할 수 있다.
* 배포 및 관리 : 개발자는 애플리케이션 코드에만 집중할 수 있고, 인프라의 유지관리는 Beanstalk이 자동으로 처리하여 효율이 증가한다.
* 확장성 및 가용성 : 오토 스케일링과 로드 밸런싱을 통해 트래픽 변화에 따라 자동으로 인스턴스 수를 조절하여 적절한 규모를 유지한다.
* 비용 : Elastic Beanstalk 자체는 추가 비용이 없으며, 관계하여 생성된 AWS 리소스(EC2, S3, RDS 등)에 대해서만 요금이 부과된다.

### 배포 정책
처음 인스턴스를 생성했을 때 배포 정책 관련하여 알림이 발생하여 조사해봤다.
* All at once : 모든 인스턴스에 동시에 새 버전 배포 (서비스 비가용 상태 발생 가능)
* Rolling update : 일부 인스턴스를 단위로 순차적으로 배포 (비가용 상태 최소화)
* Rolling update with additional batch : 추가 인스턴스를 활용해 배포 안정성 향상
* Immutable : 기존 인스턴스는 그대로 두고, 새로운 인스턴스 그룹에 배포 후 정상 동작 시 전환
* Blue/Green : 새로운 환경을 생성해 배포 후 트래픽을 전환 (가장 안전함, 권장)

### 운영 및 모니터링
모니터링 서비스도 Beanstalk에 포함되어 있다.
* 자동 운영체제, 플랫폼 업데이트 : 유지관리 기간 동안 자동으로 최신 상태를 유지한다.
* CloudWatch 연동 (중요) : 모니터링, 알람, 로그 등 AWS CloudWatch와 연동하여 운영 상태를 실시간으로 확인할 수 있다.

이렇게 AWS Elastic Beanstalk은 개발자가 코드에만 집중할 수 있게, 나머지는 AWS가 알아서 처리해준다.  
개발자의 생산성을 높이고 인프라 관리 부담을 크게 줄여주는 좋은 서비스다.  
빠른 배포, 자동 확장, 운영 자동화 등으로 웹 서비스, 애플리케이션의 클라우드 배포를 간소화 할 수 있다.

마냥 장점만 있는것은 아니다. 주의할 점도 물론 있다.

### 주의점
* IAM Role 설정 필요  
  IAM Role을 미리 설정해 둬야 Elastic Beanstalk 환경을 올바르게 생성할 수 있다.  
  EC2 인스턴스에 접근이 필요하다면 키 페어도 미리 준비해 두어야 한다.
* 영구 스토리지 미지원  
  Elastic Beanstalk에서 실행되는 EC2 인스턴스는 로컬 스토리지가 영구적이지 않다.  
  인스턴스가 재시작되거나 교체되면 로컬에 저장된 데이터는 모두 사라진다.  
  영구 데이터는 S3, RDS 등 외부 영구 스토리지를 사용해야 한다.
* 상태 모니터링 및 오류 처리  
  Beanstalk 환경에서 발생하는 HTTP 4xx 오류같은 경우, 환경 상태에 반영되며 이 오류가 자주 발생할 경우 환경상태가  
  '경고' 또는 '성능 저하'로 표시될 수 있으므로 필요에 따라 상태 규칙을 커스터마이즈해야한다.
* 비용 관리  
  Elastic Beanstalk 자체는 무료지만, 생성되는 EC2, S3, RDS 등 AWS 리소스 사용에 따른 비용이 발생한다.  
  환경을 정리하지 않으면 비용이 청구될 수 있으므로, 사용하지 않는 리소스는 반드시 삭제해야 한다.